{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect}from\"react\";import\"./App.css\";import WebcamCapture from\"./WebcamCapture\";import{BrowserRouter as Router,Switch,Route}from\"react-router-dom\";import Preview from\"./Preview\";import Chats from\"./Chats\";import ChatView from\"./ChatView\";import{useSelector,useDispatch}from\"react-redux\";import{logout,login,selectUser}from\"./features/appSlice\";import Login from\"./Login\";import{auth}from\"./firebase\";function App(){var user=useSelector(selectUser);var dispatch=useDispatch();useEffect(function(){auth.onAuthStateChanged(function(authUser){if(authUser){dispatch(login({username:authUser.displayName,profilePic:authUser.photoURL,id:authUser.uid}));}else{dispatch(logout());}});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsx(Router,{children:!user?/*#__PURE__*/_jsx(Login,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://lakeridgenewsonline.com/wp-content/uploads/2020/04/snapchat.jpg\",alt:\"\",className:\"app__logo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"app__body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"app__bodyBackground\",children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/preview\",children:/*#__PURE__*/_jsx(Preview,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/chats/view\",children:/*#__PURE__*/_jsx(ChatView,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(Chats,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/capture\",children:/*#__PURE__*/_jsx(WebcamCapture,{})})]})})})]})})});}export default App;","map":{"version":3,"sources":["C:/Users/SEBASTIEN/Desktop/Exercices Web/React/Projets/Snapchat/snapchat/src/App.js"],"names":["React","useEffect","WebcamCapture","BrowserRouter","Router","Switch","Route","Preview","Chats","ChatView","useSelector","useDispatch","logout","login","selectUser","Login","auth","App","user","dispatch","onAuthStateChanged","authUser","username","displayName","profilePic","photoURL","id","uid"],"mappings":"6IAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,MAAlC,CAA0CC,KAA1C,KAAuD,kBAAvD,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,UAAxB,KAA0C,qBAA1C,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,OAASC,IAAT,KAAqB,YAArB,CAEA,QAASC,CAAAA,GAAT,EAAe,CACb,GAAMC,CAAAA,IAAI,CAAGR,WAAW,CAACI,UAAD,CAAxB,CACA,GAAMK,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CAEAV,SAAS,CAAC,UAAM,CACde,IAAI,CAACI,kBAAL,CAAwB,SAACC,QAAD,CAAc,CACpC,GAAIA,QAAJ,CAAc,CACZF,QAAQ,CACNN,KAAK,CAAC,CACJS,QAAQ,CAAED,QAAQ,CAACE,WADf,CAEJC,UAAU,CAAEH,QAAQ,CAACI,QAFjB,CAGJC,EAAE,CAAEL,QAAQ,CAACM,GAHT,CAAD,CADC,CAAR,CAOD,CARD,IAQO,CACLR,QAAQ,CAACP,MAAM,EAAP,CAAR,CACD,CACF,CAZD,EAaD,CAdQ,CAcN,EAdM,CAAT,CAgBA,mBACE,YAAK,SAAS,CAAC,KAAf,uBACE,KAAC,MAAD,WACG,CAACM,IAAD,cACC,KAAC,KAAD,IADD,cAGC,wCACE,YACE,GAAG,CAAC,yEADN,CAEE,GAAG,CAAC,EAFN,CAGE,SAAS,CAAC,WAHZ,EADF,cAME,YAAK,SAAS,CAAC,WAAf,uBACE,YAAK,SAAS,CAAC,qBAAf,uBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,UAAlB,uBACE,KAAC,OAAD,IADF,EADF,cAIE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,aAAlB,uBACE,KAAC,QAAD,IADF,EAJF,cAOE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,uBACE,KAAC,KAAD,IADF,EAPF,cAUE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,UAAlB,uBACE,KAAC,aAAD,IADF,EAVF,GADF,EADF,EANF,GAJJ,EADF,EADF,CAmCD,CAED,cAAeD,CAAAA,GAAf","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport WebcamCapture from \"./WebcamCapture\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Preview from \"./Preview\";\r\nimport Chats from \"./Chats\";\r\nimport ChatView from \"./ChatView\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { logout, login, selectUser } from \"./features/appSlice\";\r\nimport Login from \"./Login\";\r\nimport { auth } from \"./firebase\";\r\n\r\nfunction App() {\r\n  const user = useSelector(selectUser);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged((authUser) => {\r\n      if (authUser) {\r\n        dispatch(\r\n          login({\r\n            username: authUser.displayName,\r\n            profilePic: authUser.photoURL,\r\n            id: authUser.uid,\r\n          })\r\n        );\r\n      } else {\r\n        dispatch(logout());\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Router>\r\n        {!user ? (\r\n          <Login />\r\n        ) : (\r\n          <>\r\n            <img\r\n              src=\"https://lakeridgenewsonline.com/wp-content/uploads/2020/04/snapchat.jpg\"\r\n              alt=\"\"\r\n              className=\"app__logo\"\r\n            />\r\n            <div className=\"app__body\">\r\n              <div className=\"app__bodyBackground\">\r\n                <Switch>\r\n                  <Route exact path=\"/preview\">\r\n                    <Preview />\r\n                  </Route>\r\n                  <Route exact path=\"/chats/view\">\r\n                    <ChatView />\r\n                  </Route>\r\n                  <Route exact path=\"/\">\r\n                    <Chats />\r\n                  </Route>\r\n                  <Route exact path=\"/capture\">\r\n                    <WebcamCapture />\r\n                  </Route>\r\n                </Switch>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}