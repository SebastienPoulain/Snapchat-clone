{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useRef,useCallback}from\"react\";import{useDispatch}from\"react-redux\";import Webcam from\"react-webcam\";import RadioButtonCheckedIcon from\"@material-ui/icons/RadioButtonChecked\";import{setCameraImage}from\"./features/cameraSlice\";import{useHistory}from\"react-router-dom\";import\"./WebcamCapture.css\";var videoConstraints={width:250,height:400,facingMode:\"user\"};function WebcamCapture(){var webcamRef=useRef(null);var dispatch=useDispatch();var history=useHistory();var capture=useCallback(function(){var imageSrc=webcamRef.current.getScreenshot();dispatch(setCameraImage(imageSrc));history.push(\"/preview\");},[webcamRef]);return/*#__PURE__*/_jsxs(\"div\",{className:\"webcamCapture\",children:[/*#__PURE__*/_jsx(Webcam,{audio:false,height:videoConstraints.height,ref:webcamRef,screenshotFormat:\"image/jpeg\",width:videoConstraints.width,videoConstraints:videoConstraints}),/*#__PURE__*/_jsx(RadioButtonCheckedIcon,{className:\"webcamCapture__button\",onClick:capture,fontSize:\"large\"})]});}export default WebcamCapture;","map":{"version":3,"sources":["C:/Users/SEBASTIEN/Desktop/Exercices Web/React/Projets/Snapchat/snapchat/src/WebcamCapture.js"],"names":["React","useRef","useCallback","useDispatch","Webcam","RadioButtonCheckedIcon","setCameraImage","useHistory","videoConstraints","width","height","facingMode","WebcamCapture","webcamRef","dispatch","history","capture","imageSrc","current","getScreenshot","push"],"mappings":"wFAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,WAAxB,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,CACA,MAAOC,CAAAA,sBAAP,KAAmC,uCAAnC,CACA,OAASC,cAAT,KAA+B,wBAA/B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAO,qBAAP,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,CACvBC,KAAK,CAAE,GADgB,CAEvBC,MAAM,CAAE,GAFe,CAGvBC,UAAU,CAAE,MAHW,CAAzB,CAMA,QAASC,CAAAA,aAAT,EAAyB,CACvB,GAAMC,CAAAA,SAAS,CAAGZ,MAAM,CAAC,IAAD,CAAxB,CACA,GAAMa,CAAAA,QAAQ,CAAGX,WAAW,EAA5B,CACA,GAAMY,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CAEA,GAAMS,CAAAA,OAAO,CAAGd,WAAW,CAAC,UAAM,CAChC,GAAMe,CAAAA,QAAQ,CAAGJ,SAAS,CAACK,OAAV,CAAkBC,aAAlB,EAAjB,CACAL,QAAQ,CAACR,cAAc,CAACW,QAAD,CAAf,CAAR,CACAF,OAAO,CAACK,IAAR,CAAa,UAAb,EACD,CAJ0B,CAIxB,CAACP,SAAD,CAJwB,CAA3B,CAMA,mBACE,aAAK,SAAS,CAAC,eAAf,wBACE,KAAC,MAAD,EACE,KAAK,CAAE,KADT,CAEE,MAAM,CAAEL,gBAAgB,CAACE,MAF3B,CAGE,GAAG,CAAEG,SAHP,CAIE,gBAAgB,CAAC,YAJnB,CAKE,KAAK,CAAEL,gBAAgB,CAACC,KAL1B,CAME,gBAAgB,CAAED,gBANpB,EADF,cASE,KAAC,sBAAD,EACE,SAAS,CAAC,uBADZ,CAEE,OAAO,CAAEQ,OAFX,CAGE,QAAQ,CAAC,OAHX,EATF,GADF,CAiBD,CAED,cAAeJ,CAAAA,aAAf","sourcesContent":["import React, { useRef, useCallback } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Webcam from \"react-webcam\";\r\nimport RadioButtonCheckedIcon from \"@material-ui/icons/RadioButtonChecked\";\r\nimport { setCameraImage } from \"./features/cameraSlice\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./WebcamCapture.css\";\r\n\r\nconst videoConstraints = {\r\n  width: 250,\r\n  height: 400,\r\n  facingMode: \"user\",\r\n};\r\n\r\nfunction WebcamCapture() {\r\n  const webcamRef = useRef(null);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const capture = useCallback(() => {\r\n    const imageSrc = webcamRef.current.getScreenshot();\r\n    dispatch(setCameraImage(imageSrc));\r\n    history.push(\"/preview\");\r\n  }, [webcamRef]);\r\n\r\n  return (\r\n    <div className=\"webcamCapture\">\r\n      <Webcam\r\n        audio={false}\r\n        height={videoConstraints.height}\r\n        ref={webcamRef}\r\n        screenshotFormat=\"image/jpeg\"\r\n        width={videoConstraints.width}\r\n        videoConstraints={videoConstraints}\r\n      />\r\n      <RadioButtonCheckedIcon\r\n        className=\"webcamCapture__button\"\r\n        onClick={capture}\r\n        fontSize=\"large\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WebcamCapture;\r\n"]},"metadata":{},"sourceType":"module"}