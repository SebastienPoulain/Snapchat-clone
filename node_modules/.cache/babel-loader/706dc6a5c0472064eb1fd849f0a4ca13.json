{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Avatar}from\"@material-ui/core\";import React from\"react\";import\"./Chat.css\";import StopRoundedIcon from\"@material-ui/icons/StopRounded\";import ReactTimeAgo from\"react-timeago\";import{selectImage}from\"./features/appSlice\";import{useDispatch}from\"react-redux\";import{db}from\"./firebase\";import{useHistory}from\"react-router-dom\";function Chat(_ref){var id=_ref.id,username=_ref.username,timestamp=_ref.timestamp,read=_ref.read,imageUrl=_ref.imageUrl,profilePic=_ref.profilePic;var dispatch=useDispatch();var history=useHistory();var open=function open(){if(!read){dispatch(selectImage(imageUrl));db.collection(\"posts\").doc(id).update({read:true});history.push(\"/chats/view\");}};return/*#__PURE__*/_jsxs(\"div\",{onClick:open,className:\"chat\",children:[/*#__PURE__*/_jsx(Avatar,{className:\"chat__avatar\",src:profilePic}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat__info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:username}),/*#__PURE__*/_jsxs(\"p\",{children:[!read&&\"Cliquez pour voir - \",/*#__PURE__*/_jsx(ReactTimeAgo,{date:new Date(timestamp===null||timestamp===void 0?void 0:timestamp.toDate()).toUTCString()})]})]}),!read&&/*#__PURE__*/_jsx(StopRoundedIcon,{className:\"chat__readIcon\"})]});}export default Chat;","map":{"version":3,"sources":["C:/Users/SEBASTIEN/Desktop/Exercices Web/React/Projets/Snapchat/snapchat/src/Chat.js"],"names":["Avatar","React","StopRoundedIcon","ReactTimeAgo","selectImage","useDispatch","db","useHistory","Chat","id","username","timestamp","read","imageUrl","profilePic","dispatch","history","open","collection","doc","update","push","Date","toDate","toUTCString"],"mappings":"wFAAA,OAASA,MAAT,KAAuB,mBAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,YAAP,CACA,MAAOC,CAAAA,eAAP,KAA4B,gCAA5B,CACA,MAAOC,CAAAA,YAAP,KAAyB,eAAzB,CACA,OAASC,WAAT,KAA4B,qBAA5B,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,EAAT,KAAmB,YAAnB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,QAASC,CAAAA,IAAT,MAAuE,IAAvDC,CAAAA,EAAuD,MAAvDA,EAAuD,CAAnDC,QAAmD,MAAnDA,QAAmD,CAAzCC,SAAyC,MAAzCA,SAAyC,CAA9BC,IAA8B,MAA9BA,IAA8B,CAAxBC,QAAwB,MAAxBA,QAAwB,CAAdC,UAAc,MAAdA,UAAc,CACrE,GAAMC,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CACA,GAAMW,CAAAA,OAAO,CAAGT,UAAU,EAA1B,CACA,GAAMU,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACjB,GAAI,CAACL,IAAL,CAAW,CACTG,QAAQ,CAACX,WAAW,CAACS,QAAD,CAAZ,CAAR,CACAP,EAAE,CAACY,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BV,EAA3B,EAA+BW,MAA/B,CAAsC,CACpCR,IAAI,CAAE,IAD8B,CAAtC,EAGAI,OAAO,CAACK,IAAR,CAAa,aAAb,EACD,CACF,CARD,CAUA,mBACE,aAAK,OAAO,CAAEJ,IAAd,CAAoB,SAAS,CAAC,MAA9B,wBACE,KAAC,MAAD,EAAQ,SAAS,CAAC,cAAlB,CAAiC,GAAG,CAAEH,UAAtC,EADF,cAEE,aAAK,SAAS,CAAC,YAAf,wBACE,oBAAKJ,QAAL,EADF,cAEE,qBACG,CAACE,IAAD,EAAS,sBADZ,cAEE,KAAC,YAAD,EAAc,IAAI,CAAE,GAAIU,CAAAA,IAAJ,CAASX,SAAT,SAASA,SAAT,iBAASA,SAAS,CAAEY,MAAX,EAAT,EAA8BC,WAA9B,EAApB,EAFF,GAFF,GAFF,CASG,CAACZ,IAAD,eAAS,KAAC,eAAD,EAAiB,SAAS,CAAC,gBAA3B,EATZ,GADF,CAaD,CAED,cAAeJ,CAAAA,IAAf","sourcesContent":["import { Avatar } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport \"./Chat.css\";\r\nimport StopRoundedIcon from \"@material-ui/icons/StopRounded\";\r\nimport ReactTimeAgo from \"react-timeago\";\r\nimport { selectImage } from \"./features/appSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { db } from \"./firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Chat({ id, username, timestamp, read, imageUrl, profilePic }) {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const open = () => {\r\n    if (!read) {\r\n      dispatch(selectImage(imageUrl));\r\n      db.collection(\"posts\").doc(id).update({\r\n        read: true,\r\n      });\r\n      history.push(\"/chats/view\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div onClick={open} className=\"chat\">\r\n      <Avatar className=\"chat__avatar\" src={profilePic} />\r\n      <div className=\"chat__info\">\r\n        <h4>{username}</h4>\r\n        <p>\r\n          {!read && \"Cliquez pour voir - \"}\r\n          <ReactTimeAgo date={new Date(timestamp?.toDate()).toUTCString()} />\r\n        </p>\r\n      </div>\r\n      {!read && <StopRoundedIcon className=\"chat__readIcon\" />}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n"]},"metadata":{},"sourceType":"module"}