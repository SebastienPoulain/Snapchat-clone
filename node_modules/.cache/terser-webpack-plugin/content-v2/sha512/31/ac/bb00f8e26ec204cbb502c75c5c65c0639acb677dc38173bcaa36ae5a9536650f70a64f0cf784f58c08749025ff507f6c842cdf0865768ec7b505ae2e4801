{"code":"(this.webpackJsonpsnapchat=this.webpackJsonpsnapchat||[]).push([[0],{164:function(e,t,a){},165:function(e,t,a){},169:function(e,t,a){},172:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){\"use strict\";a.r(t);var c=a(6),n=a(2),s=a.n(n),i=a(63),r=a.n(i),o=(a(164),a(165),a(21)),l=a(135),u=a.n(l),j=a(139),d=a.n(j),m=a(110),b=a.n(m),p=a(85),h=Object(p.b)({name:\"camera\",initialState:{cameraImage:null},reducers:{setCameraImage:function(e,t){e.cameraImage=t.payload},resetCameraImage:function(e){e.cameraImage=null}}}),O=h.actions,f=O.setCameraImage,x=O.resetCameraImage,g=function(e){return e.camera.cameraImage},v=h.reducer,_=a(19),w=(a(169),{width:250,height:400,facingMode:\"user\"});var N=function(){var e=Object(n.useRef)(null),t=Object(o.b)(),a=Object(_.f)(),s=Object(n.useCallback)((function(){var c=e.current.getScreenshot();t(f(c)),a.push(\"/preview\")}),[e]);return Object(c.jsxs)(\"div\",{className:\"webcamCapture\",children:[Object(c.jsx)(u.a,{audio:!1,height:w.height,ref:e,screenshotFormat:\"image/jpeg\",width:w.width,videoConstraints:w}),Object(c.jsx)(b.a,{fontSize:\"large\",className:\"webcamCapture__back\",onClick:function(){a.replace(\"/\")}}),Object(c.jsx)(d.a,{className:\"webcamCapture__button\",onClick:s,fontSize:\"large\"})]})},I=a(67),C=(a(172),a(140)),k=a.n(C),S=a(142),y=a.n(S),E=a(141),P=a.n(E),U=a(143),z=a.n(U),R=a(144),D=a.n(R),A=a(145),B=a.n(A),L=a(146),F=a.n(L),T=a(147),V=a.n(T),W=a(148),J=a.n(W),K=a(204),M=a(73),G=M.a.initializeApp({apiKey:\"AIzaSyD3ICycjZ_lNX3JXf3TOdZtt1VSCGSNzxA\",authDomain:\"snapchat-83f2c.firebaseapp.com\",projectId:\"snapchat-83f2c\",storageBucket:\"snapchat-83f2c.appspot.com\",messagingSenderId:\"524917382890\",appId:\"1:524917382890:web:61b4e5e9328a095ec7c193\"}).firestore(),Q=M.a.auth(),X=M.a.storage(),Z=new M.a.auth.GoogleAuthProvider,q=Object(p.b)({name:\"app\",initialState:{user:null,selectedImage:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null},selectImage:function(e,t){e.selectedImage=t.payload},resetImage:function(e){e.selectedImage=null}}}),H=q.actions,Y=H.login,$=H.logout,ee=H.selectImage,te=(H.resetImage,function(e){return e.app.user}),ae=function(e){return e.app.selectedImage},ce=q.reducer;var ne=function(){var e=Object(o.c)(g),t=Object(_.f)(),a=Object(o.b)(),s=Object(o.c)(te);return Object(n.useEffect)((function(){e||t.replace(\"/capture\")}),[e,t]),Object(c.jsxs)(\"div\",{className:\"preview\",children:[Object(c.jsx)(k.a,{className:\"preview__close\",onClick:function(){a(x())}}),Object(c.jsxs)(\"div\",{className:\"preview__toolbarRight\",children:[Object(c.jsx)(P.a,{}),Object(c.jsx)(y.a,{}),Object(c.jsx)(z.a,{}),Object(c.jsx)(D.a,{}),Object(c.jsx)(B.a,{}),Object(c.jsx)(F.a,{}),Object(c.jsx)(V.a,{})]}),Object(c.jsx)(\"img\",{src:e,alt:\"\"}),Object(c.jsxs)(\"div\",{onClick:function(){var a=Object(K.a)();X.ref(\"posts/\".concat(a)).putString(e,\"data_url\").on(\"state_changed\",null,(function(e){console.log(e)}),(function(){X.ref(\"posts\").child(a).getDownloadURL().then((function(e){G.collection(\"posts\").add({imageUrl:e,username:s.username,read:[],profilePic:s.profilePic,timestamp:M.a.firestore.FieldValue.serverTimestamp()}),t.replace(\"/\")}))}))},className:\"preview__footer\",children:[Object(c.jsx)(\"h2\",{children:\"Envoyer\"}),Object(c.jsx)(J.a,{className:\"preview__sendIcon\"})]})]})},se=a(118),ie=a(205),re=(a(175),a(152)),oe=a.n(re),le=a(153),ue=a.n(le),je=a(156),de=(a(176),a(150)),me=a.n(de),be=a(149),pe=a.n(be);a(178);var he=function(e){var t=e.id,a=e.username,n=e.timestamp,s=e.read,i=e.imageUrl,r=e.profilePic,l=Object(o.b)(),u=Object(_.f)(),j=Object(o.c)(te);return Object(c.jsxs)(\"div\",{onClick:function(){-1===s.indexOf(j.username)?(l(ee(i)),G.collection(\"posts\").doc(t).update({read:[].concat(Object(je.a)(s),[j.username])}),u.push(\"/chats/view\")):(l(ee(i)),u.push(\"/chats/view\"))},className:\"chat\",children:[Object(c.jsx)(ie.a,{className:\"chat__avatar\",src:r}),Object(c.jsxs)(\"div\",{className:\"chat__info\",children:[Object(c.jsx)(\"h4\",{children:a}),Object(c.jsxs)(\"p\",{children:[-1===s.indexOf(j.username)&&\"Cliquez pour voir - \",Object(c.jsx)(pe.a,{interval:1e3,fromNow:!0,children:new Date(null===n||void 0===n?void 0:n.toDate()).valueOf()})]})]}),-1===s.indexOf(j.username)&&Object(c.jsx)(me.a,{className:\"chat__readIcon\"})]})},Oe=a(154),fe=a.n(Oe),xe=a(120),ge=a(151);a(183),a(129);var ve=function(){var e=Object(n.useState)(\"none\"),t=Object(se.a)(e,2),a=t[0],s=t[1],i=Object(n.useState)([]),r=Object(se.a)(i,2),l=r[0],u=r[1],j=Object(n.useState)(\"\"),d=Object(se.a)(j,2),m=d[0],b=d[1],p=Object(o.c)(te),h=Object(o.b)(),O=Object(_.f)();Object(n.useEffect)((function(){f()}),[]);var f=function(){G.collection(\"posts\").orderBy(\"timestamp\",\"desc\").onSnapshot((function(e){return u(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})),b(\"\")};return Object(c.jsxs)(\"div\",{className:\"chats\",children:[Object(c.jsxs)(\"div\",{className:\"chats__header\",children:[Object(c.jsx)(ie.a,{src:p.profilePic,onClick:function(){Q.signOut()},className:\"chats__avatar\"}),Object(c.jsxs)(\"div\",{className:\"chats__search\",children:[Object(c.jsx)(oe.a,{onClick:f,className:\"chats__searchIcon\"}),Object(c.jsx)(\"form\",{onSubmit:function(e){e.preventDefault();var t=m.charAt(0).toUpperCase()+m.slice(1);\"\"!==m&&new xe.FireSQL(ge.a.firestore()).rxQuery(\"\\n  SELECT *\\n  FROM posts\\n  WHERE username LIKE '\".concat(m,\"%' or username LIKE '\").concat(t,\"%'\\n  ORDER BY username, timestamp DESC\\n\"),{includeId:\"id\"}).subscribe((function(e){0!==e.size&&u(e.map((function(e){return{id:e.id,data:{username:e.username,imageUrl:e.imageUrl,profilePic:e.profilePic,read:e.read,timestamp:e.timestamp}}})))}));s(\"block\")},children:Object(c.jsx)(\"input\",{placeholder:\"Utilisateur \\xe0 rechercher\",onChange:function(e){return b(e.target.value)},value:m,type:\"text\"})})]}),Object(c.jsx)(ue.a,{className:\"chats__chatIcon\"})]}),Object(c.jsx)(\"div\",{className:\"chats__posts\",children:l.length>0?l.map((function(e){var t=e.id,a=e.data,n=a.profilePic,s=a.username,i=a.timestamp,r=a.imageUrl,o=a.read;return Object(c.jsx)(he,{profilePic:n,username:s,timestamp:i,imageUrl:r,read:o,id:t},t)})):Object(c.jsx)(\"h4\",{style:{display:\"\".concat(a)},children:\"l'utilisateur entr\\xe9 n'existe pas\"})}),Object(c.jsx)(fe.a,{className:\"chats__takePicIcon\",onClick:function(){h(x()),O.push(\"/capture\")},fontSize:\"large\"})]})},_e=(a(185),a(155));var we=function(){var e=Object(o.c)(ae),t=Object(_.f)();Object(n.useEffect)((function(){e||a()}),[e]);var a=function(){t.replace(\"/\")};return Object(c.jsxs)(\"div\",{className:\"chatView\",children:[Object(c.jsx)(\"img\",{src:e,alt:\"\"}),Object(c.jsx)(b.a,{fontSize:\"large\",className:\"chatView__back\",onClick:a}),Object(c.jsx)(\"div\",{className:\"chatView__timer\",children:Object(c.jsx)(_e.CountdownCircleTimer,{isPlaying:!0,duration:10,strokeWidth:6,size:50,colors:[[\"#004777\",.33],[\"#F7B801\",.33],[\"#A30000\",.33]],children:function(e){var t=e.remainingTime;return 0===t&&a(),t}})})]})},Ne=a(203);a(186);var Ie=function(){var e=Object(o.b)();return Object(c.jsx)(\"div\",{className:\"login\",children:Object(c.jsxs)(\"div\",{className:\"login__container\",children:[Object(c.jsx)(\"img\",{src:\"https://scx2.b-cdn.net/gfx/news/2017/1-snapchat.jpg\",alt:\"\"}),Object(c.jsx)(Ne.a,{variant:\"outlined\",onClick:function(){Q.signInWithPopup(Z).then((function(t){e(Y({username:t.user.displayName,profilePic:t.user.photoURL,id:t.user.uid}))})).catch((function(e){return alert(e.message)}))},children:\"Se connecter\"})]})})};var Ce=function(){var e=Object(o.c)(te),t=Object(o.b)();return Object(n.useEffect)((function(){Q.onAuthStateChanged((function(e){t(e?Y({username:e.displayName,profilePic:e.photoURL,id:e.uid}):$())}))}),[]),Object(c.jsx)(\"div\",{className:\"app\",children:Object(c.jsx)(I.a,{children:e?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(\"img\",{src:\"https://lakeridgenewsonline.com/wp-content/uploads/2020/04/snapchat.jpg\",alt:\"\",className:\"app__logo\"}),Object(c.jsx)(\"div\",{className:\"app__body\",children:Object(c.jsx)(\"div\",{className:\"app__bodyBackground\",children:Object(c.jsxs)(_.c,{children:[Object(c.jsx)(_.a,{exact:!0,path:\"/preview\",children:Object(c.jsx)(ne,{})}),Object(c.jsx)(_.a,{exact:!0,path:\"/chats/view\",children:Object(c.jsx)(we,{})}),Object(c.jsx)(_.a,{exact:!0,path:\"/\",children:Object(c.jsx)(ve,{})}),Object(c.jsx)(_.a,{exact:!0,path:\"/capture\",children:Object(c.jsx)(N,{})})]})})})]}):Object(c.jsx)(Ie,{})})})},ke=Object(p.a)({reducer:{app:ce,camera:v}});Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(o.a,{store:ke,children:Object(c.jsx)(Ce,{})})}),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[187,1,2]]]);","name":"static/js/main.db213dc0.chunk.js","map":{"version":3,"sources":["static/js/main.db213dc0.chunk.js"],"names":["this","push","164","module","exports","__webpack_require__","165","169","172","175","176","185","186","187","__webpack_exports__","r","jsx_runtime","react","react_default","n","react_dom","react_dom_default","es","react_webcam","react_webcam_default","AddAPhoto","AddAPhoto_default","ArrowBack","ArrowBack_default","redux_toolkit_esm","cameraSlice","Object","name","initialState","cameraImage","reducers","setCameraImage","state","action","payload","resetCameraImage","_cameraSlice$actions","actions","selectCameraImage","camera","features_cameraSlice","react_router","videoConstraints","width","height","facingMode","src_WebcamCapture","webcamRef","dispatch","history","capture","imageSrc","current","getScreenshot","className","children","a","audio","ref","screenshotFormat","fontSize","onClick","replace","react_router_dom","Close","Close_default","Create","Create_default","TextFields","TextFields_default","Note","Note_default","MusicNote","MusicNote_default","AttachFile","AttachFile_default","Crop","Crop_default","Timer","Timer_default","Send","Send_default","v4","index_esm","db","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","auth","storage","provider","GoogleAuthProvider","appSlice","user","selectedImage","login","logout","selectImage","resetImage","_appSlice$actions","selectUser","app","selectSelectedImage","features_appSlice","src_Preview","src","alt","id","concat","putString","on","error","console","log","child","getDownloadURL","then","url","collection","add","imageUrl","username","read","profilePic","timestamp","FieldValue","serverTimestamp","slicedToArray","Avatar","Search","Search_default","ChatBubble","ChatBubble_default","toConsumableArray","StopRounded","StopRounded_default","dist","dist_default","src_Chat","_ref","indexOf","doc","update","interval","fromNow","Date","toDate","valueOf","CameraAlt","CameraAlt_default","firesql","dist_index_esm","src_Chats","_useState","_useState2","userNotFound","setUserNotFound","_useState3","_useState4","posts","setPosts","_useState5","_useState6","personQuery","setPersonQuery","getPosts","orderBy","onSnapshot","snapshot","docs","map","data","signOut","onSubmit","e","preventDefault","nameCapitalized","charAt","toUpperCase","slice","rxQuery","includeId","subscribe","results","size","placeholder","onChange","target","value","type","length","_ref$data","style","display","lib","src_ChatView","exit","isPlaying","duration","strokeWidth","colors","remainingTime","Button","src_Login","variant","signInWithPopup","result","displayName","photoURL","uid","catch","alert","message","src_App","onAuthStateChanged","authUser","exact","path","store","reducer","Boolean","window","location","hostname","match","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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"},"input":"(this[\"webpackJsonpsnapchat\"] = this[\"webpackJsonpsnapchat\"] || []).push([[0],{\n\n/***/ 164:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 165:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 169:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 172:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 175:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 176:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 185:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 186:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 187:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(63);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(164);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(165);\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 22 modules\nvar es = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/react-webcam/dist/react-webcam.js\nvar react_webcam = __webpack_require__(135);\nvar react_webcam_default = /*#__PURE__*/__webpack_require__.n(react_webcam);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/AddAPhoto.js\nvar AddAPhoto = __webpack_require__(139);\nvar AddAPhoto_default = /*#__PURE__*/__webpack_require__.n(AddAPhoto);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/ArrowBack.js\nvar ArrowBack = __webpack_require__(110);\nvar ArrowBack_default = /*#__PURE__*/__webpack_require__.n(ArrowBack);\n\n// EXTERNAL MODULE: ./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js + 3 modules\nvar redux_toolkit_esm = __webpack_require__(85);\n\n// CONCATENATED MODULE: ./src/features/cameraSlice.js\nvar cameraSlice=Object(redux_toolkit_esm[\"b\" /* createSlice */])({name:\"camera\",initialState:{cameraImage:null},reducers:{setCameraImage:function setCameraImage(state,action){state.cameraImage=action.payload;},resetCameraImage:function resetCameraImage(state){state.cameraImage=null;}}});var _cameraSlice$actions=cameraSlice.actions,setCameraImage=_cameraSlice$actions.setCameraImage,resetCameraImage=_cameraSlice$actions.resetCameraImage;var selectCameraImage=function selectCameraImage(state){return state.camera.cameraImage;};/* harmony default export */ var features_cameraSlice = (cameraSlice.reducer);\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./src/WebcamCapture.css\nvar WebcamCapture = __webpack_require__(169);\n\n// CONCATENATED MODULE: ./src/WebcamCapture.js\nvar videoConstraints={width:250,height:400,facingMode:\"user\"};function WebcamCapture_WebcamCapture(){var webcamRef=Object(react[\"useRef\"])(null);var dispatch=Object(es[\"b\" /* useDispatch */])();var history=Object(react_router[\"f\" /* useHistory */])();var capture=Object(react[\"useCallback\"])(function(){var imageSrc=webcamRef.current.getScreenshot();dispatch(setCameraImage(imageSrc));history.push(\"/preview\");},[webcamRef]);var back=function back(){history.replace(\"/\");};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"webcamCapture\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_webcam_default.a,{audio:false,height:videoConstraints.height,ref:webcamRef,screenshotFormat:\"image/jpeg\",width:videoConstraints.width,videoConstraints:videoConstraints}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowBack_default.a,{fontSize:\"large\",className:\"webcamCapture__back\",onClick:back}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddAPhoto_default.a,{className:\"webcamCapture__button\",onClick:capture,fontSize:\"large\"})]});}/* harmony default export */ var src_WebcamCapture = (WebcamCapture_WebcamCapture);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(67);\n\n// EXTERNAL MODULE: ./src/Preview.css\nvar Preview = __webpack_require__(172);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Close.js\nvar Close = __webpack_require__(140);\nvar Close_default = /*#__PURE__*/__webpack_require__.n(Close);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Create.js\nvar Create = __webpack_require__(142);\nvar Create_default = /*#__PURE__*/__webpack_require__.n(Create);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/TextFields.js\nvar TextFields = __webpack_require__(141);\nvar TextFields_default = /*#__PURE__*/__webpack_require__.n(TextFields);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Note.js\nvar Note = __webpack_require__(143);\nvar Note_default = /*#__PURE__*/__webpack_require__.n(Note);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/MusicNote.js\nvar MusicNote = __webpack_require__(144);\nvar MusicNote_default = /*#__PURE__*/__webpack_require__.n(MusicNote);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/AttachFile.js\nvar AttachFile = __webpack_require__(145);\nvar AttachFile_default = /*#__PURE__*/__webpack_require__.n(AttachFile);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Crop.js\nvar Crop = __webpack_require__(146);\nvar Crop_default = /*#__PURE__*/__webpack_require__.n(Crop);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Timer.js\nvar Timer = __webpack_require__(147);\nvar Timer_default = /*#__PURE__*/__webpack_require__.n(Timer);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Send.js\nvar Send = __webpack_require__(148);\nvar Send_default = /*#__PURE__*/__webpack_require__.n(Send);\n\n// EXTERNAL MODULE: ./node_modules/uuid/dist/esm-browser/v4.js + 4 modules\nvar v4 = __webpack_require__(204);\n\n// EXTERNAL MODULE: ./node_modules/firebase/dist/index.esm.js + 8 modules\nvar index_esm = __webpack_require__(73);\n\n// CONCATENATED MODULE: ./src/firebase.js\nvar firebaseConfig={apiKey:\"AIzaSyD3ICycjZ_lNX3JXf3TOdZtt1VSCGSNzxA\",authDomain:\"snapchat-83f2c.firebaseapp.com\",projectId:\"snapchat-83f2c\",storageBucket:\"snapchat-83f2c.appspot.com\",messagingSenderId:\"524917382890\",appId:\"1:524917382890:web:61b4e5e9328a095ec7c193\"};var firebaseApp=index_esm[\"a\" /* default */].initializeApp(firebaseConfig);var db=firebaseApp.firestore();var auth=index_esm[\"a\" /* default */].auth();var storage=index_esm[\"a\" /* default */].storage();var provider=new index_esm[\"a\" /* default */].auth.GoogleAuthProvider();\n// CONCATENATED MODULE: ./src/features/appSlice.js\nvar appSlice=Object(redux_toolkit_esm[\"b\" /* createSlice */])({name:\"app\",initialState:{user:null,selectedImage:null},reducers:{login:function login(state,action){state.user=action.payload;},logout:function logout(state){state.user=null;},selectImage:function selectImage(state,action){state.selectedImage=action.payload;},resetImage:function resetImage(state){state.selectedImage=null;}}});var _appSlice$actions=appSlice.actions,login=_appSlice$actions.login,logout=_appSlice$actions.logout,selectImage=_appSlice$actions.selectImage,resetImage=_appSlice$actions.resetImage;var selectUser=function selectUser(state){return state.app.user;};var selectSelectedImage=function selectSelectedImage(state){return state.app.selectedImage;};/* harmony default export */ var features_appSlice = (appSlice.reducer);\n// CONCATENATED MODULE: ./src/Preview.js\nfunction Preview_Preview(){var cameraImage=Object(es[\"c\" /* useSelector */])(selectCameraImage);var history=Object(react_router[\"f\" /* useHistory */])();var dispatch=Object(es[\"b\" /* useDispatch */])();var user=Object(es[\"c\" /* useSelector */])(selectUser);Object(react[\"useEffect\"])(function(){if(!cameraImage){history.replace(\"/capture\");}},[cameraImage,history]);var closePreview=function closePreview(){dispatch(resetCameraImage());};var sendPost=function sendPost(){var id=Object(v4[\"a\" /* default */])();var uploadTask=storage.ref(\"posts/\".concat(id)).putString(cameraImage,\"data_url\");uploadTask.on(\"state_changed\",null,function(error){console.log(error);},function(){storage.ref(\"posts\").child(id).getDownloadURL().then(function(url){db.collection(\"posts\").add({imageUrl:url,username:user.username,read:[],profilePic:user.profilePic,timestamp:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp()});history.replace(\"/\");});});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"preview\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Close_default.a,{className:\"preview__close\",onClick:closePreview}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"preview__toolbarRight\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TextFields_default.a,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Create_default.a,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Note_default.a,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MusicNote_default.a,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AttachFile_default.a,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Crop_default.a,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Timer_default.a,{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:cameraImage,alt:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{onClick:sendPost,className:\"preview__footer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Envoyer\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Send_default.a,{className:\"preview__sendIcon\"})]})]});}/* harmony default export */ var src_Preview = (Preview_Preview);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(118);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Avatar/Avatar.js + 1 modules\nvar Avatar = __webpack_require__(205);\n\n// EXTERNAL MODULE: ./src/Chats.css\nvar Chats = __webpack_require__(175);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Search.js\nvar Search = __webpack_require__(152);\nvar Search_default = /*#__PURE__*/__webpack_require__.n(Search);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/ChatBubble.js\nvar ChatBubble = __webpack_require__(153);\nvar ChatBubble_default = /*#__PURE__*/__webpack_require__.n(ChatBubble);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(156);\n\n// EXTERNAL MODULE: ./src/Chat.css\nvar Chat = __webpack_require__(176);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/StopRounded.js\nvar StopRounded = __webpack_require__(150);\nvar StopRounded_default = /*#__PURE__*/__webpack_require__.n(StopRounded);\n\n// EXTERNAL MODULE: ./node_modules/react-moment/dist/index.js\nvar dist = __webpack_require__(149);\nvar dist_default = /*#__PURE__*/__webpack_require__.n(dist);\n\n// EXTERNAL MODULE: ./node_modules/moment/locale/fr.js\nvar fr = __webpack_require__(178);\n\n// CONCATENATED MODULE: ./src/Chat.js\nfunction Chat_Chat(_ref){var id=_ref.id,username=_ref.username,timestamp=_ref.timestamp,read=_ref.read,imageUrl=_ref.imageUrl,profilePic=_ref.profilePic;var dispatch=Object(es[\"b\" /* useDispatch */])();var history=Object(react_router[\"f\" /* useHistory */])();var user=Object(es[\"c\" /* useSelector */])(selectUser);var open=function open(){if(read.indexOf(user.username)===-1){dispatch(selectImage(imageUrl));db.collection(\"posts\").doc(id).update({read:[].concat(Object(toConsumableArray[\"a\" /* default */])(read),[user.username])});history.push(\"/chats/view\");}else{dispatch(selectImage(imageUrl));history.push(\"/chats/view\");}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{onClick:open,className:\"chat\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{className:\"chat__avatar\",src:profilePic}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:username}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[read.indexOf(user.username)===-1&&\"Cliquez pour voir - \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist_default.a,{interval:1000,fromNow:true,children:new Date(timestamp===null||timestamp===void 0?void 0:timestamp.toDate()).valueOf()})]})]}),read.indexOf(user.username)===-1&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StopRounded_default.a,{className:\"chat__readIcon\"})]});}/* harmony default export */ var src_Chat = (Chat_Chat);\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/CameraAlt.js\nvar CameraAlt = __webpack_require__(154);\nvar CameraAlt_default = /*#__PURE__*/__webpack_require__.n(CameraAlt);\n\n// EXTERNAL MODULE: ./node_modules/firesql/firesql.js\nvar firesql = __webpack_require__(120);\n\n// EXTERNAL MODULE: ./node_modules/firebase/app/dist/index.esm.js\nvar dist_index_esm = __webpack_require__(151);\n\n// EXTERNAL MODULE: ./node_modules/firesql/rx/index.js\nvar rx = __webpack_require__(183);\n\n// EXTERNAL MODULE: ./node_modules/firebase/firestore/dist/index.esm.js\nvar firestore_dist_index_esm = __webpack_require__(129);\n\n// CONCATENATED MODULE: ./src/Chats.js\nfunction Chats_Chats(){var _useState=Object(react[\"useState\"])(\"none\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userNotFound=_useState2[0],setUserNotFound=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),posts=_useState4[0],setPosts=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),personQuery=_useState6[0],setPersonQuery=_useState6[1];var user=Object(es[\"c\" /* useSelector */])(selectUser);var dispatch=Object(es[\"b\" /* useDispatch */])();var history=Object(react_router[\"f\" /* useHistory */])();Object(react[\"useEffect\"])(function(){getPosts();},[]);var takeSnap=function takeSnap(){dispatch(resetCameraImage());history.push(\"/capture\");};var getPosts=function getPosts(){db.collection(\"posts\").orderBy(\"timestamp\",\"desc\").onSnapshot(function(snapshot){return setPosts(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});setPersonQuery(\"\");};var getPersonQuery=function getPersonQuery(e){e.preventDefault();var nameCapitalized=personQuery.charAt(0).toUpperCase()+personQuery.slice(1);if(personQuery!==\"\"){var fireSQL=new firesql[\"FireSQL\"](dist_index_esm[\"a\" /* default */].firestore());var persons=fireSQL.rxQuery(\"\\n  SELECT *\\n  FROM posts\\n  WHERE username LIKE '\".concat(personQuery,\"%' or username LIKE '\").concat(nameCapitalized,\"%'\\n  ORDER BY username, timestamp DESC\\n\"),{includeId:\"id\"});persons.subscribe(function(results){if(results.size!==0){setPosts(results.map(function(doc){return{id:doc.id,data:{username:doc.username,imageUrl:doc.imageUrl,profilePic:doc.profilePic,read:doc.read,timestamp:doc.timestamp}};}));}});}setUserNotFound(\"block\");};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chats\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chats__header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:user.profilePic,onClick:function onClick(){auth.signOut();},className:\"chats__avatar\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chats__search\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Search_default.a,{onClick:getPosts,className:\"chats__searchIcon\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{onSubmit:getPersonQuery,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Utilisateur \\xE0 rechercher\",onChange:function onChange(e){return setPersonQuery(e.target.value);},value:personQuery,type:\"text\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatBubble_default.a,{className:\"chats__chatIcon\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chats__posts\",children:posts.length>0?posts.map(function(_ref){var id=_ref.id,_ref$data=_ref.data,profilePic=_ref$data.profilePic,username=_ref$data.username,timestamp=_ref$data.timestamp,imageUrl=_ref$data.imageUrl,read=_ref$data.read;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Chat,{profilePic:profilePic,username:username,timestamp:timestamp,imageUrl:imageUrl,read:read,id:id},id);}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{display:\"\".concat(userNotFound)},children:\"l'utilisateur entr\\xE9 n'existe pas\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CameraAlt_default.a,{className:\"chats__takePicIcon\",onClick:takeSnap,fontSize:\"large\"})]});}/* harmony default export */ var src_Chats = (Chats_Chats);\n// EXTERNAL MODULE: ./src/ChatView.css\nvar ChatView = __webpack_require__(185);\n\n// EXTERNAL MODULE: ./node_modules/react-countdown-circle-timer/lib/index.js\nvar lib = __webpack_require__(155);\n\n// CONCATENATED MODULE: ./src/ChatView.js\nfunction ChatView_ChatView(){var selectedImage=Object(es[\"c\" /* useSelector */])(selectSelectedImage);var history=Object(react_router[\"f\" /* useHistory */])();Object(react[\"useEffect\"])(function(){if(!selectedImage){exit();}},[selectedImage]);var exit=function exit(){history.replace(\"/\");};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chatView\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:selectedImage,alt:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ArrowBack_default.a,{fontSize:\"large\",className:\"chatView__back\",onClick:exit}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chatView__timer\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(lib[\"CountdownCircleTimer\"],{isPlaying:true,duration:10,strokeWidth:6,size:50,colors:[[\"#004777\",0.33],[\"#F7B801\",0.33],[\"#A30000\",0.33]],children:function children(_ref){var remainingTime=_ref.remainingTime;if(remainingTime===0){exit();}return remainingTime;}})})]});}/* harmony default export */ var src_ChatView = (ChatView_ChatView);\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js + 6 modules\nvar Button = __webpack_require__(203);\n\n// EXTERNAL MODULE: ./src/Login.css\nvar Login = __webpack_require__(186);\n\n// CONCATENATED MODULE: ./src/Login.js\nfunction Login_Login(){var dispatch=Object(es[\"b\" /* useDispatch */])();var signIn=function signIn(){auth.signInWithPopup(provider).then(function(result){dispatch(login({username:result.user.displayName,profilePic:result.user.photoURL,id:result.user.uid}));}).catch(function(error){return alert(error.message);});};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"login__container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://scx2.b-cdn.net/gfx/news/2017/1-snapchat.jpg\",alt:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"outlined\",onClick:signIn,children:\"Se connecter\"})]})});}/* harmony default export */ var src_Login = (Login_Login);\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){var user=Object(es[\"c\" /* useSelector */])(selectUser);var dispatch=Object(es[\"b\" /* useDispatch */])();Object(react[\"useEffect\"])(function(){auth.onAuthStateChanged(function(authUser){if(authUser){dispatch(login({username:authUser.displayName,profilePic:authUser.photoURL,id:authUser.uid}));}else{dispatch(logout());}});},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"app\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:!user?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Login,{}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://lakeridgenewsonline.com/wp-content/uploads/2020/04/snapchat.jpg\",alt:\"\",className:\"app__logo\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"app__body\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"app__bodyBackground\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/preview\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Preview,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/chats/view\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_ChatView,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Chats,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/capture\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_WebcamCapture,{})})]})})})]})})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/app/store.js\n/* harmony default export */ var store = (Object(redux_toolkit_esm[\"a\" /* configureStore */])({reducer:{app:features_appSlice,camera:features_cameraSlice}}));\n// CONCATENATED MODULE: ./src/serviceWorker.js\n// This optional code is used to register a service worker.\n// register() is not called by default.\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nvar isLocalhost=Boolean(window.location.hostname==='localhost'||// [::1] is the IPv6 localhost address.\nwindow.location.hostname==='[::1]'||// 127.0.0.0/8 are considered localhost for IPv4.\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function register(config){if( true&&'serviceWorker'in navigator){// The URL constructor is available in all browsers that support SW.\nvar publicUrl=new URL(\"\",window.location.href);if(publicUrl.origin!==window.location.origin){// Our service worker won't work if PUBLIC_URL is on a different origin\n// from what our page is served on. This might happen if a CDN is used to\n// serve assets; see https://github.com/facebook/create-react-app/issues/2374\nreturn;}window.addEventListener('load',function(){var swUrl=\"\".concat(\"\",\"/service-worker.js\");if(isLocalhost){// This is running on localhost. Let's check if a service worker still exists or not.\ncheckValidServiceWorker(swUrl,config);// Add some additional logging to localhost, pointing developers to the\n// service worker/PWA documentation.\nnavigator.serviceWorker.ready.then(function(){console.log('This web app is being served cache-first by a service '+'worker. To learn more, visit https://bit.ly/CRA-PWA');});}else{// Is not localhost. Just register service worker\nregisterValidSW(swUrl,config);}});}}function registerValidSW(swUrl,config){navigator.serviceWorker.register(swUrl).then(function(registration){registration.onupdatefound=function(){var installingWorker=registration.installing;if(installingWorker==null){return;}installingWorker.onstatechange=function(){if(installingWorker.state==='installed'){if(navigator.serviceWorker.controller){// At this point, the updated precached content has been fetched,\n// but the previous service worker will still serve the older\n// content until all client tabs are closed.\nconsole.log('New content is available and will be used when all '+'tabs for this page are closed. See https://bit.ly/CRA-PWA.');// Execute callback\nif(config&&config.onUpdate){config.onUpdate(registration);}}else{// At this point, everything has been precached.\n// It's the perfect time to display a\n// \"Content is cached for offline use.\" message.\nconsole.log('Content is cached for offline use.');// Execute callback\nif(config&&config.onSuccess){config.onSuccess(registration);}}}};};}).catch(function(error){console.error('Error during service worker registration:',error);});}function checkValidServiceWorker(swUrl,config){// Check if the service worker can be found. If it can't reload the page.\nfetch(swUrl,{headers:{'Service-Worker':'script'}}).then(function(response){// Ensure service worker exists, and that we really are getting a JS file.\nvar contentType=response.headers.get('content-type');if(response.status===404||contentType!=null&&contentType.indexOf('javascript')===-1){// No service worker found. Probably a different app. Reload the page.\nnavigator.serviceWorker.ready.then(function(registration){registration.unregister().then(function(){window.location.reload();});});}else{// Service worker found. Proceed as normal.\nregisterValidSW(swUrl,config);}}).catch(function(){console.log('No internet connection found. App is running in offline mode.');});}function unregister(){if('serviceWorker'in navigator){navigator.serviceWorker.ready.then(function(registration){registration.unregister();});}}\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* Provider */],{store:store,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})})}),document.getElementById('root'));// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nunregister();\n\n/***/ })\n\n},[[187,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\src\\index.css","C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\src\\App.css","C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\src\\WebcamCapture.css","C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\src\\Preview.css","C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\src\\Chats.css","C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\src\\Chat.css","C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\src\\ChatView.css","C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\SEBASTIEN\\Desktop\\Exercices Web\\React\\Projets\\Snapchat\\snapchat\\src\\Login.css","C:/Users/SEBASTIEN/Desktop/Exercices Web/React/Projets/Snapchat/snapchat/src/features/cameraSlice.js","C:/Users/SEBASTIEN/Desktop/Exercices Web/React/Projets/Snapchat/snapchat/src/WebcamCapture.js","C:/Users/SEBASTIEN/Desktop/Exercices Web/React/Projets/Snapchat/snapchat/src/firebase.js","C:/Users/SEBASTIEN/Desktop/Exercices Web/React/Projets/Snapchat/snapchat/src/features/appSlice.js","C:/Users/SEBASTIEN/Desktop/Exercices Web/React/Projets/Snapchat/snapchat/src/Preview.js","C:/Users/SEBASTIEN/Desktop/Exercices Web/React/Projets/Snapchat/snapchat/src/Chat.js","C:/Users/SEBASTIEN/Desktop/Exercices Web/React/Projets/Snapchat/snapchat/src/Chats.js","C:/Users/SEBASTIEN/Desktop/Exercices Web/React/Projets/Snapchat/snapchat/src/ChatView.js","C:/Users/SEBASTIEN/Desktop/Exercices Web/React/Projets/Snapchat/snapchat/src/Login.js","C:/Users/SEBASTIEN/Desktop/Exercices Web/React/Projets/Snapchat/snapchat/src/App.js","C:/Users/SEBASTIEN/Desktop/Exercices Web/React/Projets/Snapchat/snapchat/src/app/store.js","C:/Users/SEBASTIEN/Desktop/Exercices Web/React/Projets/Snapchat/snapchat/src/serviceWorker.js","C:/Users/SEBASTIEN/Desktop/Exercices Web/React/Projets/Snapchat/snapchat/src/index.js"],"names":["cameraSlice","createSlice","name","initialState","cameraImage","reducers","setCameraImage","state","action","payload","resetCameraImage","actions","selectCameraImage","camera","reducer","videoConstraints","width","height","facingMode","WebcamCapture","webcamRef","useRef","dispatch","useDispatch","history","useHistory","capture","useCallback","imageSrc","current","getScreenshot","push","back","replace","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firebaseApp","firebase","initializeApp","db","firestore","auth","storage","provider","GoogleAuthProvider","appSlice","user","selectedImage","login","logout","selectImage","resetImage","selectUser","app","selectSelectedImage","Preview","useSelector","useEffect","closePreview","sendPost","id","uuid","uploadTask","ref","putString","on","error","console","log","child","getDownloadURL","then","url","collection","add","imageUrl","username","read","profilePic","timestamp","FieldValue","serverTimestamp","Chat","open","indexOf","doc","update","Date","toDate","valueOf","Chats","useState","userNotFound","setUserNotFound","posts","setPosts","personQuery","setPersonQuery","getPosts","takeSnap","orderBy","onSnapshot","snapshot","docs","map","data","getPersonQuery","e","preventDefault","nameCapitalized","charAt","toUpperCase","slice","fireSQL","FireSQL","persons","rxQuery","includeId","subscribe","results","size","signOut","target","value","length","display","ChatView","exit","remainingTime","Login","signIn","signInWithPopup","result","displayName","photoURL","uid","catch","alert","message","App","onAuthStateChanged","authUser","configureStore","appReducer","cameraReducer","isLocalhost","Boolean","window","location","hostname","match","register","config","process","navigator","publicUrl","URL","href","origin","addEventListener","swUrl","checkValidServiceWorker","serviceWorker","ready","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","fetch","headers","response","contentType","get","status","unregister","reload","ReactDOM","render","store","document","getElementById"],"mappings":";;;;;AAAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACEO,GAAMA,YAAW,CAAGC,gDAAW,CAAC,CACrCC,IAAI,CAAE,QAD+B,CAErCC,YAAY,CAAE,CACZC,WAAW,CAAE,IADD,CAFuB,CAKrCC,QAAQ,CAAE,CACRC,cAAc,CAAE,wBAACC,KAAD,CAAQC,MAAR,CAAmB,CACjCD,KAAK,CAACH,WAAN,CAAoBI,MAAM,CAACC,OAA3B,CACD,CAHO,CAIRC,gBAAgB,CAAE,0BAACH,KAAD,CAAW,CAC3BA,KAAK,CAACH,WAAN,CAAoB,IAApB,CACD,CANO,CAL2B,CAAD,CAA/B,C,yBAe6CJ,WAAW,CAACW,O,CAAjDL,c,sBAAAA,c,CAAgBI,gB,sBAAAA,gB,CAExB,GAAME,kBAAiB,CAAG,QAApBA,kBAAoB,CAACL,KAAD,QAAWA,MAAK,CAACM,MAAN,CAAaT,WAAxB,EAA1B,CAEQJ,oEAAW,CAACc,OAA3B,E;;;;;;;;ACZA,GAAMC,iBAAgB,CAAG,CACvBC,KAAK,CAAE,GADgB,CAEvBC,MAAM,CAAE,GAFe,CAGvBC,UAAU,CAAE,MAHW,CAAzB,CAMA,QAASC,4BAAT,EAAyB,CACvB,GAAMC,UAAS,CAAGC,uBAAM,CAAC,IAAD,CAAxB,CACA,GAAMC,SAAQ,CAAGC,iCAAW,EAA5B,CACA,GAAMC,QAAO,CAAGC,0CAAU,EAA1B,CAEA,GAAMC,QAAO,CAAGC,4BAAW,CAAC,UAAM,CAChC,GAAMC,SAAQ,CAAGR,SAAS,CAACS,OAAV,CAAkBC,aAAlB,EAAjB,CACAR,QAAQ,CAAChB,cAAc,CAACsB,QAAD,CAAf,CAAR,CACAJ,OAAO,CAACO,IAAR,CAAa,UAAb,EACD,CAJ0B,CAIxB,CAACX,SAAD,CAJwB,CAA3B,CAMA,GAAMY,KAAI,CAAG,QAAPA,KAAO,EAAM,CACjBR,OAAO,CAACS,OAAR,CAAgB,GAAhB,EACD,CAFD,CAIA,mBACE,mCAAK,SAAS,CAAC,eAAf,wBACE,2BAAC,sBAAD,EACE,KAAK,CAAE,KADT,CAEE,MAAM,CAAElB,gBAAgB,CAACE,MAF3B,CAGE,GAAG,CAAEG,SAHP,CAIE,gBAAgB,CAAC,YAJnB,CAKE,KAAK,CAAEL,gBAAgB,CAACC,KAL1B,CAME,gBAAgB,CAAED,gBANpB,EADF,cASE,2BAAC,mBAAD,EACE,QAAQ,CAAC,OADX,CAEE,SAAS,CAAC,qBAFZ,CAGE,OAAO,CAAEiB,IAHX,EATF,cAcE,2BAAC,mBAAD,EACE,SAAS,CAAC,uBADZ,CAEE,OAAO,CAAEN,OAFX,CAGE,QAAQ,CAAC,OAHX,EAdF,GADF,CAsBD,CAEcP,iFAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpDA,GAAMe,eAAc,CAAG,CACrBC,MAAM,CAAE,yCADa,CAErBC,UAAU,CAAE,gCAFS,CAGrBC,SAAS,CAAE,gBAHU,CAIrBC,aAAa,CAAE,4BAJM,CAKrBC,iBAAiB,CAAE,cALE,CAMrBC,KAAK,CAAE,2CANc,CAAvB,CASA,GAAMC,YAAW,CAAGC,4BAAQ,CAACC,aAAT,CAAuBT,cAAvB,CAApB,CAEA,GAAMU,GAAE,CAAGH,WAAW,CAACI,SAAZ,EAAX,CAEA,GAAMC,KAAI,CAAGJ,4BAAQ,CAACI,IAAT,EAAb,CAEA,GAAMC,QAAO,CAAGL,4BAAQ,CAACK,OAAT,EAAhB,CAEA,GAAMC,SAAQ,CAAG,GAAIN,6BAAQ,CAACI,IAAT,CAAcG,kBAAlB,EAAjB,C;;ACjBO,GAAMC,SAAQ,CAAGjD,gDAAW,CAAC,CAClCC,IAAI,CAAE,KAD4B,CAElCC,YAAY,CAAE,CACZgD,IAAI,CAAE,IADM,CAEZC,aAAa,CAAE,IAFH,CAFoB,CAMlC/C,QAAQ,CAAE,CACRgD,KAAK,CAAE,eAAC9C,KAAD,CAAQC,MAAR,CAAmB,CACxBD,KAAK,CAAC4C,IAAN,CAAa3C,MAAM,CAACC,OAApB,CACD,CAHO,CAIR6C,MAAM,CAAE,gBAAC/C,KAAD,CAAW,CACjBA,KAAK,CAAC4C,IAAN,CAAa,IAAb,CACD,CANO,CAORI,WAAW,CAAE,qBAAChD,KAAD,CAAQC,MAAR,CAAmB,CAC9BD,KAAK,CAAC6C,aAAN,CAAsB5C,MAAM,CAACC,OAA7B,CACD,CATO,CAUR+C,UAAU,CAAE,oBAACjD,KAAD,CAAW,CACrBA,KAAK,CAAC6C,aAAN,CAAsB,IAAtB,CACD,CAZO,CANwB,CAAD,CAA5B,C,sBAsBmDF,QAAQ,CAACvC,O,CAApD0C,K,mBAAAA,K,CAAOC,M,mBAAAA,M,CAAQC,W,mBAAAA,W,CAAaC,U,mBAAAA,U,CAEpC,GAAMC,WAAU,CAAG,QAAbA,WAAa,CAAClD,KAAD,QAAWA,MAAK,CAACmD,GAAN,CAAUP,IAArB,EAAnB,CAEA,GAAMQ,oBAAmB,CAAG,QAAtBA,oBAAsB,CAACpD,KAAD,QAAWA,MAAK,CAACmD,GAAN,CAAUN,aAArB,EAA5B,CAEQF,8DAAQ,CAACpC,OAAxB,E;;ACXA,QAAS8C,gBAAT,EAAmB,CACjB,GAAMxD,YAAW,CAAGyD,iCAAW,CAACjD,iBAAD,CAA/B,CACA,GAAMY,QAAO,CAAGC,0CAAU,EAA1B,CACA,GAAMH,SAAQ,CAAGC,iCAAW,EAA5B,CACA,GAAM4B,KAAI,CAAGU,iCAAW,CAACJ,UAAD,CAAxB,CAEAK,0BAAS,CAAC,UAAM,CACd,GAAI,CAAC1D,WAAL,CAAkB,CAChBoB,OAAO,CAACS,OAAR,CAAgB,UAAhB,EACD,CACF,CAJQ,CAIN,CAAC7B,WAAD,CAAcoB,OAAd,CAJM,CAAT,CAMA,GAAMuC,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzBzC,QAAQ,CAACZ,gBAAgB,EAAjB,CAAR,CACD,CAFD,CAIA,GAAMsD,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrB,GAAMC,GAAE,CAAGC,6BAAI,EAAf,CACA,GAAMC,WAAU,CAAGpB,OAAO,CACvBqB,GADgB,iBACHH,EADG,GAEhBI,SAFgB,CAENjE,WAFM,CAEO,UAFP,CAAnB,CAGA+D,UAAU,CAACG,EAAX,CACE,eADF,CAEE,IAFF,CAGE,SAACC,KAAD,CAAW,CACTC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CALH,CAME,UAAM,CACJxB,OAAO,CACJqB,GADH,CACO,OADP,EAEGM,KAFH,CAEST,EAFT,EAGGU,cAHH,GAIGC,IAJH,CAIQ,SAACC,GAAD,CAAS,CACbjC,EAAE,CAACkC,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2B,CACzBC,QAAQ,CAAEH,GADe,CAEzBI,QAAQ,CAAE9B,IAAI,CAAC8B,QAFU,CAGzBC,IAAI,CAAE,EAHmB,CAIzBC,UAAU,CAAEhC,IAAI,CAACgC,UAJQ,CAKzBC,SAAS,CAAE1C,4BAAQ,CAACG,SAAT,CAAmBwC,UAAnB,CAA8BC,eAA9B,EALc,CAA3B,EAOA9D,OAAO,CAACS,OAAR,CAAgB,GAAhB,EACD,CAbH,EAcD,CArBH,EAuBD,CA5BD,CA8BA,mBACE,mCAAK,SAAS,CAAC,SAAf,wBACE,2BAAC,eAAD,EAAW,SAAS,CAAC,gBAArB,CAAsC,OAAO,CAAE8B,YAA/C,EADF,cAEE,mCAAK,SAAS,CAAC,uBAAf,wBACE,2BAAC,oBAAD,IADF,cAEE,2BAAC,gBAAD,IAFF,cAGE,2BAAC,cAAD,IAHF,cAIE,2BAAC,mBAAD,IAJF,cAKE,2BAAC,oBAAD,IALF,cAME,2BAAC,cAAD,IANF,cAOE,2BAAC,eAAD,IAPF,GAFF,cAWE,kCAAK,GAAG,CAAE3D,WAAV,CAAuB,GAAG,CAAC,EAA3B,EAXF,cAYE,mCAAK,OAAO,CAAE4D,QAAd,CAAwB,SAAS,CAAC,iBAAlC,wBACE,qDADF,cAEE,2BAAC,cAAD,EAAU,SAAS,CAAC,mBAApB,EAFF,GAZF,GADF,CAmBD,CAEcJ,+DAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3EA,QAAS2B,UAAT,MAAuE,IAAvDtB,GAAuD,MAAvDA,EAAuD,CAAnDgB,QAAmD,MAAnDA,QAAmD,CAAzCG,SAAyC,MAAzCA,SAAyC,CAA9BF,IAA8B,MAA9BA,IAA8B,CAAxBF,QAAwB,MAAxBA,QAAwB,CAAdG,UAAc,MAAdA,UAAc,CACrE,GAAM7D,SAAQ,CAAGC,iCAAW,EAA5B,CACA,GAAMC,QAAO,CAAGC,0CAAU,EAA1B,CACA,GAAM0B,KAAI,CAAGU,iCAAW,CAACJ,UAAD,CAAxB,CAEA,GAAM+B,KAAI,CAAG,QAAPA,KAAO,EAAM,CACjB,GAAIN,IAAI,CAACO,OAAL,CAAatC,IAAI,CAAC8B,QAAlB,IAAgC,CAAC,CAArC,CAAwC,CACtC3D,QAAQ,CAACiC,WAAW,CAACyB,QAAD,CAAZ,CAAR,CACApC,EAAE,CAACkC,UAAH,CAAc,OAAd,EACGY,GADH,CACOzB,EADP,EAEG0B,MAFH,CAEU,CACNT,IAAI,wDAAMA,IAAN,GAAY/B,IAAI,CAAC8B,QAAjB,EADE,CAFV,EAKAzD,OAAO,CAACO,IAAR,CAAa,aAAb,EACD,CARD,IAQO,CACLT,QAAQ,CAACiC,WAAW,CAACyB,QAAD,CAAZ,CAAR,CACAxD,OAAO,CAACO,IAAR,CAAa,aAAb,EACD,CACF,CAbD,CAeA,mBACE,mCAAK,OAAO,CAAEyD,IAAd,CAAoB,SAAS,CAAC,MAA9B,wBACE,2BAAC,yBAAD,EAAQ,SAAS,CAAC,cAAlB,CAAiC,GAAG,CAAEL,UAAtC,EADF,cAEE,mCAAK,SAAS,CAAC,YAAf,wBACE,0CAAKF,QAAL,EADF,cAEE,2CACGC,IAAI,CAACO,OAAL,CAAatC,IAAI,CAAC8B,QAAlB,IAAgC,CAAC,CAAjC,EAAsC,sBADzC,cAEE,2BAAC,cAAD,EAAQ,QAAQ,CAAE,IAAlB,CAAwB,OAAO,KAA/B,UACG,GAAIW,KAAJ,CAASR,SAAT,SAASA,SAAT,iBAASA,SAAS,CAAES,MAAX,EAAT,EAA8BC,OAA9B,EADH,EAFF,GAFF,GAFF,CAWGZ,IAAI,CAACO,OAAL,CAAatC,IAAI,CAAC8B,QAAlB,IAAgC,CAAC,CAAjC,eACC,2BAAC,qBAAD,EAAiB,SAAS,CAAC,gBAA3B,EAZJ,GADF,CAiBD,CAEcM,sDAAf,E;;;;;;;;;;;;;;;;;;ACjCA,QAASQ,YAAT,EAAiB,eACyBC,yBAAQ,CAAC,MAAD,CADjC,kEACRC,YADQ,eACMC,eADN,8BAEWF,yBAAQ,CAAC,EAAD,CAFnB,mEAERG,KAFQ,eAEDC,QAFC,8BAGuBJ,yBAAQ,CAAC,EAAD,CAH/B,mEAGRK,WAHQ,eAGKC,cAHL,eAIf,GAAMnD,KAAI,CAAGU,iCAAW,CAACJ,UAAD,CAAxB,CACA,GAAMnC,SAAQ,CAAGC,iCAAW,EAA5B,CACA,GAAMC,QAAO,CAAGC,0CAAU,EAA1B,CAEAqC,0BAAS,CAAC,UAAM,CACdyC,QAAQ,GACT,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrBlF,QAAQ,CAACZ,gBAAgB,EAAjB,CAAR,CACAc,OAAO,CAACO,IAAR,CAAa,UAAb,EACD,CAHD,CAKA,GAAMwE,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrB3D,EAAE,CAACkC,UAAH,CAAc,OAAd,EACG2B,OADH,CACW,WADX,CACwB,MADxB,EAEGC,UAFH,CAEc,SAACC,QAAD,QACVP,SAAQ,CACNO,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACnB,GAAD,QAAU,CAC1BzB,EAAE,CAAEyB,GAAG,CAACzB,EADkB,CAE1B6C,IAAI,CAAEpB,GAAG,CAACoB,IAAJ,EAFoB,CAAV,EAAlB,CADM,CADE,EAFd,EAUAR,cAAc,CAAC,EAAD,CAAd,CACD,CAZD,CAcA,GAAMS,eAAc,CAAG,QAAjBA,eAAiB,CAACC,CAAD,CAAO,CAC5BA,CAAC,CAACC,cAAF,GAEA,GAAMC,gBAAe,CACnBb,WAAW,CAACc,MAAZ,CAAmB,CAAnB,EAAsBC,WAAtB,GAAsCf,WAAW,CAACgB,KAAZ,CAAkB,CAAlB,CADxC,CAGA,GAAIhB,WAAW,GAAK,EAApB,CAAwB,CACtB,GAAMiB,QAAO,CAAG,GAAIC,mBAAJ,CAAY7E,iCAAQ,CAACG,SAAT,EAAZ,CAAhB,CACA,GAAM2E,QAAO,CAAGF,OAAO,CAACG,OAAR,8DAIGpB,WAJH,iCAIsCa,eAJtC,8CAOd,CAAEQ,SAAS,CAAE,IAAb,CAPc,CAAhB,CAUAF,OAAO,CAACG,SAAR,CAAkB,SAACC,OAAD,CAAa,CAC7B,GAAIA,OAAO,CAACC,IAAR,GAAiB,CAArB,CAAwB,CACtBzB,QAAQ,CACNwB,OAAO,CAACf,GAAR,CAAY,SAACnB,GAAD,QAAU,CACpBzB,EAAE,CAAEyB,GAAG,CAACzB,EADY,CAEpB6C,IAAI,CAAE,CACJ7B,QAAQ,CAAES,GAAG,CAACT,QADV,CAEJD,QAAQ,CAAEU,GAAG,CAACV,QAFV,CAGJG,UAAU,CAAEO,GAAG,CAACP,UAHZ,CAIJD,IAAI,CAAEQ,GAAG,CAACR,IAJN,CAKJE,SAAS,CAAEM,GAAG,CAACN,SALX,CAFc,CAAV,EAAZ,CADM,CAAR,CAYD,CACF,CAfD,EAgBD,CACDc,eAAe,CAAC,OAAD,CAAf,CACD,CApCD,CAsCA,mBACE,mCAAK,SAAS,CAAC,OAAf,wBACE,mCAAK,SAAS,CAAC,eAAf,wBACE,2BAAC,yBAAD,EACE,GAAG,CAAE/C,IAAI,CAACgC,UADZ,CAEE,OAAO,CAAE,kBAAM,CACbrC,IAAI,CAACgF,OAAL,GACD,CAJH,CAKE,SAAS,CAAC,eALZ,EADF,cAQE,mCAAK,SAAS,CAAC,eAAf,wBACE,2BAAC,gBAAD,EAAY,OAAO,CAAEvB,QAArB,CAA+B,SAAS,CAAC,mBAAzC,EADF,cAEE,mCAAM,QAAQ,CAAEQ,cAAhB,uBACE,oCACE,WAAW,CAAC,6BADd,CAEE,QAAQ,CAAE,kBAACC,CAAD,QAAOV,eAAc,CAACU,CAAC,CAACe,MAAF,CAASC,KAAV,CAArB,EAFZ,CAGE,KAAK,CAAE3B,WAHT,CAIE,IAAI,CAAC,MAJP,EADF,EAFF,GARF,cAmBE,2BAAC,oBAAD,EAAgB,SAAS,CAAC,iBAA1B,EAnBF,GADF,cAuBE,kCAAK,SAAS,CAAC,cAAf,UACGF,KAAK,CAAC8B,MAAN,CAAe,CAAf,CACC9B,KAAK,CAACU,GAAN,CACE,kBACE5C,GADF,MACEA,EADF,gBAEE6C,IAFF,CAEU3B,UAFV,WAEUA,UAFV,CAEsBF,QAFtB,WAEsBA,QAFtB,CAEgCG,SAFhC,WAEgCA,SAFhC,CAE2CJ,QAF3C,WAE2CA,QAF3C,CAEqDE,IAFrD,WAEqDA,IAFrD,oBAIE,2BAAC,QAAD,EAEE,UAAU,CAAEC,UAFd,CAGE,QAAQ,CAAEF,QAHZ,CAIE,SAAS,CAAEG,SAJb,CAKE,QAAQ,CAAEJ,QALZ,CAME,IAAI,CAAEE,IANR,CAOE,EAAE,CAAEjB,EAPN,EACOA,EADP,CAJF,EADF,CADD,cAkBC,iCAAI,KAAK,CAAE,CAAEiE,OAAO,WAAKjC,YAAL,CAAT,CAAX,iDAnBJ,EAvBF,cA+CE,2BAAC,mBAAD,EACE,SAAS,CAAC,oBADZ,CAEE,OAAO,CAAEO,QAFX,CAGE,QAAQ,CAAC,OAHX,EA/CF,GADF,CAuDD,CAEcT,yDAAf,E;;;;;;;;ACvIA,QAASoC,kBAAT,EAAoB,CAClB,GAAM/E,cAAa,CAAGS,iCAAW,CAACF,mBAAD,CAAjC,CACA,GAAMnC,QAAO,CAAGC,0CAAU,EAA1B,CAEAqC,0BAAS,CAAC,UAAM,CACd,GAAI,CAACV,aAAL,CAAoB,CAClBgF,IAAI,GACL,CACF,CAJQ,CAIN,CAAChF,aAAD,CAJM,CAAT,CAMA,GAAMgF,KAAI,CAAG,QAAPA,KAAO,EAAM,CACjB5G,OAAO,CAACS,OAAR,CAAgB,GAAhB,EACD,CAFD,CAIA,mBACE,mCAAK,SAAS,CAAC,UAAf,wBACE,kCAAK,GAAG,CAAEmB,aAAV,CAAyB,GAAG,CAAC,EAA7B,EADF,cAEE,2BAAC,mBAAD,EACE,QAAQ,CAAC,OADX,CAEE,SAAS,CAAC,gBAFZ,CAGE,OAAO,CAAEgF,IAHX,EAFF,cAOE,kCAAK,SAAS,CAAC,iBAAf,uBACE,2BAAC,2BAAD,EACE,SAAS,KADX,CAEE,QAAQ,CAAE,EAFZ,CAGE,WAAW,CAAE,CAHf,CAIE,IAAI,CAAE,EAJR,CAKE,MAAM,CAAE,CACN,CAAC,SAAD,CAAY,IAAZ,CADM,CAEN,CAAC,SAAD,CAAY,IAAZ,CAFM,CAGN,CAAC,SAAD,CAAY,IAAZ,CAHM,CALV,UAWG,uBAAuB,IAApBC,cAAoB,MAApBA,aAAoB,CACtB,GAAIA,aAAa,GAAK,CAAtB,CAAyB,CACvBD,IAAI,GACL,CACD,MAAOC,cAAP,CACD,CAhBH,EADF,EAPF,GADF,CA8BD,CAEcF,kEAAf,E;;;;;;;;AC/CA,QAASG,YAAT,EAAiB,CACf,GAAMhH,SAAQ,CAAGC,iCAAW,EAA5B,CAEA,GAAMgH,OAAM,CAAG,QAATA,OAAS,EAAM,CACnBzF,IAAI,CACD0F,eADH,CACmBxF,QADnB,EAEG4B,IAFH,CAEQ,SAAC6D,MAAD,CAAY,CAChBnH,QAAQ,CACN+B,KAAK,CAAC,CACJ4B,QAAQ,CAAEwD,MAAM,CAACtF,IAAP,CAAYuF,WADlB,CAEJvD,UAAU,CAAEsD,MAAM,CAACtF,IAAP,CAAYwF,QAFpB,CAGJ1E,EAAE,CAAEwE,MAAM,CAACtF,IAAP,CAAYyF,GAHZ,CAAD,CADC,CAAR,CAOD,CAVH,EAWGC,KAXH,CAWS,SAACtE,KAAD,QAAWuE,MAAK,CAACvE,KAAK,CAACwE,OAAP,CAAhB,EAXT,EAYD,CAbD,CAeA,mBACE,kCAAK,SAAS,CAAC,OAAf,uBACE,mCAAK,SAAS,CAAC,kBAAf,wBACE,kCAAK,GAAG,CAAC,qDAAT,CAA+D,GAAG,CAAC,EAAnE,EADF,cAEE,2BAAC,yBAAD,EAAQ,OAAO,CAAC,UAAhB,CAA2B,OAAO,CAAER,MAApC,0BAFF,GADF,EADF,CAUD,CAEcD,yDAAf,E;;ACzBA,QAASU,QAAT,EAAe,CACb,GAAM7F,KAAI,CAAGU,iCAAW,CAACJ,UAAD,CAAxB,CACA,GAAMnC,SAAQ,CAAGC,iCAAW,EAA5B,CAEAuC,0BAAS,CAAC,UAAM,CACdhB,IAAI,CAACmG,kBAAL,CAAwB,SAACC,QAAD,CAAc,CACpC,GAAIA,QAAJ,CAAc,CACZ5H,QAAQ,CACN+B,KAAK,CAAC,CACJ4B,QAAQ,CAAEiE,QAAQ,CAACR,WADf,CAEJvD,UAAU,CAAE+D,QAAQ,CAACP,QAFjB,CAGJ1E,EAAE,CAAEiF,QAAQ,CAACN,GAHT,CAAD,CADC,CAAR,CAOD,CARD,IAQO,CACLtH,QAAQ,CAACgC,MAAM,EAAP,CAAR,CACD,CACF,CAZD,EAaD,CAdQ,CAcN,EAdM,CAAT,CAgBA,mBACE,kCAAK,SAAS,CAAC,KAAf,uBACE,2BAAC,yCAAD,WACG,CAACH,IAAD,cACC,2BAAC,SAAD,IADD,cAGC,4EACE,kCACE,GAAG,CAAC,yEADN,CAEE,GAAG,CAAC,EAFN,CAGE,SAAS,CAAC,WAHZ,EADF,cAME,kCAAK,SAAS,CAAC,WAAf,uBACE,kCAAK,SAAS,CAAC,qBAAf,uBACE,4BAAC,8BAAD,yBACE,2BAAC,6BAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,UAAlB,uBACE,2BAAC,WAAD,IADF,EADF,cAIE,2BAAC,6BAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,aAAlB,uBACE,2BAAC,YAAD,IADF,EAJF,cAOE,2BAAC,6BAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,uBACE,2BAAC,SAAD,IADF,EAPF,cAUE,2BAAC,6BAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,UAAlB,uBACE,2BAAC,iBAAD,IADF,EAVF,GADF,EADF,EANF,GAJJ,EADF,EADF,CAmCD,CAEc6F,mDAAf,E;;ACjEeG,6FAAc,CAAC,CAC5BrI,OAAO,CAAE,CACP4C,GAAG,CAAE0F,iBADE,CAEPvI,MAAM,CAAEwI,oBAFD,CADmB,CAAD,CAA7B,E;;ACJA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA,GAAMC,YAAW,CAAGC,OAAO,CACzBC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA6B,WAA7B,EACE;AACAF,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA6B,OAF/B,EAGE;AACAF,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,KAAzB,CACE,wDADF,CALuB,CAA3B,CAUO,QAASC,SAAT,CAAkBC,MAAlB,CAA0B,CAC/B,GAAIC,KAAA,EAAyC,iBAAmBC,UAAhE,CAA2E,CACzE;AACA,GAAMC,UAAS,CAAG,GAAIC,IAAJ,CAAQH,EAAR,CAAgCN,MAAM,CAACC,QAAP,CAAgBS,IAAhD,CAAlB,CACA,GAAIF,SAAS,CAACG,MAAV,GAAqBX,MAAM,CAACC,QAAP,CAAgBU,MAAzC,CAAiD,CAC/C;AACA;AACA;AACA,OACD,CAEDX,MAAM,CAACY,gBAAP,CAAwB,MAAxB,CAAgC,UAAM,CACpC,GAAMC,MAAK,WAAMP,EAAN,sBAAX,CAEA,GAAIR,WAAJ,CAAiB,CACf;AACAgB,uBAAuB,CAACD,KAAD,CAAQR,MAAR,CAAvB,CAEA;AACA;AACAE,SAAS,CAACQ,aAAV,CAAwBC,KAAxB,CAA8B5F,IAA9B,CAAmC,UAAM,CACvCJ,OAAO,CAACC,GAAR,CACE,yDACE,qDAFJ,EAID,CALD,EAMD,CAZD,IAYO,CACL;AACAgG,eAAe,CAACJ,KAAD,CAAQR,MAAR,CAAf,CACD,CACF,CAnBD,EAoBD,CACF,CAED,QAASY,gBAAT,CAAyBJ,KAAzB,CAAgCR,MAAhC,CAAwC,CACtCE,SAAS,CAACQ,aAAV,CACGX,QADH,CACYS,KADZ,EAEGzF,IAFH,CAEQ,SAAA8F,YAAY,CAAI,CACpBA,YAAY,CAACC,aAAb,CAA6B,UAAM,CACjC,GAAMC,iBAAgB,CAAGF,YAAY,CAACG,UAAtC,CACA,GAAID,gBAAgB,EAAI,IAAxB,CAA8B,CAC5B,OACD,CACDA,gBAAgB,CAACE,aAAjB,CAAiC,UAAM,CACrC,GAAIF,gBAAgB,CAACrK,KAAjB,GAA2B,WAA/B,CAA4C,CAC1C,GAAIwJ,SAAS,CAACQ,aAAV,CAAwBQ,UAA5B,CAAwC,CACtC;AACA;AACA;AACAvG,OAAO,CAACC,GAAR,CACE,sDACE,4DAFJ,EAKA;AACA,GAAIoF,MAAM,EAAIA,MAAM,CAACmB,QAArB,CAA+B,CAC7BnB,MAAM,CAACmB,QAAP,CAAgBN,YAAhB,EACD,CACF,CAbD,IAaO,CACL;AACA;AACA;AACAlG,OAAO,CAACC,GAAR,CAAY,oCAAZ,EAEA;AACA,GAAIoF,MAAM,EAAIA,MAAM,CAACoB,SAArB,CAAgC,CAC9BpB,MAAM,CAACoB,SAAP,CAAiBP,YAAjB,EACD,CACF,CACF,CACF,CA3BD,CA4BD,CAjCD,CAkCD,CArCH,EAsCG7B,KAtCH,CAsCS,SAAAtE,KAAK,CAAI,CACdC,OAAO,CAACD,KAAR,CAAc,2CAAd,CAA2DA,KAA3D,EACD,CAxCH,EAyCD,CAED,QAAS+F,wBAAT,CAAiCD,KAAjC,CAAwCR,MAAxC,CAAgD,CAC9C;AACAqB,KAAK,CAACb,KAAD,CAAQ,CACXc,OAAO,CAAE,CAAE,iBAAkB,QAApB,CADE,CAAR,CAAL,CAGGvG,IAHH,CAGQ,SAAAwG,QAAQ,CAAI,CAChB;AACA,GAAMC,YAAW,CAAGD,QAAQ,CAACD,OAAT,CAAiBG,GAAjB,CAAqB,cAArB,CAApB,CACA,GACEF,QAAQ,CAACG,MAAT,GAAoB,GAApB,EACCF,WAAW,EAAI,IAAf,EAAuBA,WAAW,CAAC5F,OAAZ,CAAoB,YAApB,IAAsC,CAAC,CAFjE,CAGE,CACA;AACAsE,SAAS,CAACQ,aAAV,CAAwBC,KAAxB,CAA8B5F,IAA9B,CAAmC,SAAA8F,YAAY,CAAI,CACjDA,YAAY,CAACc,UAAb,GAA0B5G,IAA1B,CAA+B,UAAM,CACnC4E,MAAM,CAACC,QAAP,CAAgBgC,MAAhB,GACD,CAFD,EAGD,CAJD,EAKD,CAVD,IAUO,CACL;AACAhB,eAAe,CAACJ,KAAD,CAAQR,MAAR,CAAf,CACD,CACF,CApBH,EAqBGhB,KArBH,CAqBS,UAAM,CACXrE,OAAO,CAACC,GAAR,CACE,+DADF,EAGD,CAzBH,EA0BD,CAEM,QAAS+G,WAAT,EAAsB,CAC3B,GAAI,iBAAmBzB,UAAvB,CAAkC,CAChCA,SAAS,CAACQ,aAAV,CAAwBC,KAAxB,CAA8B5F,IAA9B,CAAmC,SAAA8F,YAAY,CAAI,CACjDA,YAAY,CAACc,UAAb,GACD,CAFD,EAGD,CACF,C;;AChIDE,mBAAQ,CAACC,MAAT,cACE,2BAAC,eAAD,CAAO,UAAP,wBACE,2BAAC,sBAAD,EAAU,KAAK,CAAEC,KAAjB,uBACE,2BAAC,OAAD,IADF,EADF,EADF,CAMEC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CANF,EASA;AACA;AACA;AACAvB,UAAA,G","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const cameraSlice = createSlice({\r\n  name: \"camera\",\r\n  initialState: {\r\n    cameraImage: null,\r\n  },\r\n  reducers: {\r\n    setCameraImage: (state, action) => {\r\n      state.cameraImage = action.payload;\r\n    },\r\n    resetCameraImage: (state) => {\r\n      state.cameraImage = null;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setCameraImage, resetCameraImage } = cameraSlice.actions;\r\n\r\nexport const selectCameraImage = (state) => state.camera.cameraImage;\r\n\r\nexport default cameraSlice.reducer;\r\n","import React, { useRef, useCallback } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Webcam from \"react-webcam\";\r\nimport AddAPhotoIcon from \"@material-ui/icons/AddAPhoto\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport { setCameraImage } from \"./features/cameraSlice\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./WebcamCapture.css\";\r\n\r\nconst videoConstraints = {\r\n  width: 250,\r\n  height: 400,\r\n  facingMode: \"user\",\r\n};\r\n\r\nfunction WebcamCapture() {\r\n  const webcamRef = useRef(null);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  const capture = useCallback(() => {\r\n    const imageSrc = webcamRef.current.getScreenshot();\r\n    dispatch(setCameraImage(imageSrc));\r\n    history.push(\"/preview\");\r\n  }, [webcamRef]);\r\n\r\n  const back = () => {\r\n    history.replace(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"webcamCapture\">\r\n      <Webcam\r\n        audio={false}\r\n        height={videoConstraints.height}\r\n        ref={webcamRef}\r\n        screenshotFormat=\"image/jpeg\"\r\n        width={videoConstraints.width}\r\n        videoConstraints={videoConstraints}\r\n      />\r\n      <ArrowBackIcon\r\n        fontSize=\"large\"\r\n        className=\"webcamCapture__back\"\r\n        onClick={back}\r\n      />\r\n      <AddAPhotoIcon\r\n        className=\"webcamCapture__button\"\r\n        onClick={capture}\r\n        fontSize=\"large\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WebcamCapture;\r\n","import firebase from \"firebase\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyD3ICycjZ_lNX3JXf3TOdZtt1VSCGSNzxA\",\r\n  authDomain: \"snapchat-83f2c.firebaseapp.com\",\r\n  projectId: \"snapchat-83f2c\",\r\n  storageBucket: \"snapchat-83f2c.appspot.com\",\r\n  messagingSenderId: \"524917382890\",\r\n  appId: \"1:524917382890:web:61b4e5e9328a095ec7c193\",\r\n};\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebaseApp.firestore();\r\n\r\nconst auth = firebase.auth();\r\n\r\nconst storage = firebase.storage();\r\n\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\n\r\nexport { db, auth, storage, provider };\r\n","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const appSlice = createSlice({\r\n  name: \"app\",\r\n  initialState: {\r\n    user: null,\r\n    selectedImage: null,\r\n  },\r\n  reducers: {\r\n    login: (state, action) => {\r\n      state.user = action.payload;\r\n    },\r\n    logout: (state) => {\r\n      state.user = null;\r\n    },\r\n    selectImage: (state, action) => {\r\n      state.selectedImage = action.payload;\r\n    },\r\n    resetImage: (state) => {\r\n      state.selectedImage = null;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { login, logout, selectImage, resetImage } = appSlice.actions;\r\n\r\nexport const selectUser = (state) => state.app.user;\r\n\r\nexport const selectSelectedImage = (state) => state.app.selectedImage;\r\n\r\nexport default appSlice.reducer;\r\n","import React, { useEffect } from \"react\";\r\nimport { resetCameraImage, selectCameraImage } from \"./features/cameraSlice\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport \"./Preview.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport CreateIcon from \"@material-ui/icons/Create\";\r\nimport TextFieldsIcon from \"@material-ui/icons/TextFields\";\r\nimport NoteIcon from \"@material-ui/icons/Note\";\r\nimport MusicNoteIcon from \"@material-ui/icons/MusicNote\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\nimport CropIcon from \"@material-ui/icons/Crop\";\r\nimport TimerIcon from \"@material-ui/icons/Timer\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport { db, storage } from \"./firebase\";\r\nimport firebase from \"firebase\";\r\nimport { selectUser } from \"./features/appSlice\";\r\n\r\nfunction Preview() {\r\n  const cameraImage = useSelector(selectCameraImage);\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const user = useSelector(selectUser);\r\n\r\n  useEffect(() => {\r\n    if (!cameraImage) {\r\n      history.replace(\"/capture\");\r\n    }\r\n  }, [cameraImage, history]);\r\n\r\n  const closePreview = () => {\r\n    dispatch(resetCameraImage());\r\n  };\r\n\r\n  const sendPost = () => {\r\n    const id = uuid();\r\n    const uploadTask = storage\r\n      .ref(`posts/${id}`)\r\n      .putString(cameraImage, \"data_url\");\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      null,\r\n      (error) => {\r\n        console.log(error);\r\n      },\r\n      () => {\r\n        storage\r\n          .ref(\"posts\")\r\n          .child(id)\r\n          .getDownloadURL()\r\n          .then((url) => {\r\n            db.collection(\"posts\").add({\r\n              imageUrl: url,\r\n              username: user.username,\r\n              read: [],\r\n              profilePic: user.profilePic,\r\n              timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n            });\r\n            history.replace(\"/\");\r\n          });\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"preview\">\r\n      <CloseIcon className=\"preview__close\" onClick={closePreview} />\r\n      <div className=\"preview__toolbarRight\">\r\n        <TextFieldsIcon />\r\n        <CreateIcon />\r\n        <NoteIcon />\r\n        <MusicNoteIcon />\r\n        <AttachFileIcon />\r\n        <CropIcon />\r\n        <TimerIcon />\r\n      </div>\r\n      <img src={cameraImage} alt=\"\" />\r\n      <div onClick={sendPost} className=\"preview__footer\">\r\n        <h2>Envoyer</h2>\r\n        <SendIcon className=\"preview__sendIcon\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Preview;\r\n","import { Avatar } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport \"./Chat.css\";\r\nimport StopRoundedIcon from \"@material-ui/icons/StopRounded\";\r\nimport Moment from \"react-moment\";\r\nimport \"moment/locale/fr\";\r\nimport { selectImage, selectUser } from \"./features/appSlice\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { db } from \"./firebase\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Chat({ id, username, timestamp, read, imageUrl, profilePic }) {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const user = useSelector(selectUser);\r\n\r\n  const open = () => {\r\n    if (read.indexOf(user.username) === -1) {\r\n      dispatch(selectImage(imageUrl));\r\n      db.collection(\"posts\")\r\n        .doc(id)\r\n        .update({\r\n          read: [...read, user.username],\r\n        });\r\n      history.push(\"/chats/view\");\r\n    } else {\r\n      dispatch(selectImage(imageUrl));\r\n      history.push(\"/chats/view\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div onClick={open} className=\"chat\">\r\n      <Avatar className=\"chat__avatar\" src={profilePic} />\r\n      <div className=\"chat__info\">\r\n        <h4>{username}</h4>\r\n        <p>\r\n          {read.indexOf(user.username) === -1 && \"Cliquez pour voir - \"}\r\n          <Moment interval={1000} fromNow>\r\n            {new Date(timestamp?.toDate()).valueOf()}\r\n          </Moment>\r\n        </p>\r\n      </div>\r\n      {read.indexOf(user.username) === -1 && (\r\n        <StopRoundedIcon className=\"chat__readIcon\" />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n","import { Avatar } from \"@material-ui/core\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport \"./Chats.css\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport ChatBubbleIcon from \"@material-ui/icons/ChatBubble\";\r\nimport { auth, db } from \"./firebase\";\r\nimport Chat from \"./Chat\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { selectUser } from \"./features/appSlice\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport CameraAltIcon from \"@material-ui/icons/CameraAlt\";\r\nimport { resetCameraImage } from \"./features/cameraSlice\";\r\nimport { FireSQL } from \"firesql\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firesql/rx\";\r\nimport \"firebase/firestore\";\r\n\r\nfunction Chats() {\r\n  const [userNotFound, setUserNotFound] = useState(\"none\");\r\n  const [posts, setPosts] = useState([]);\r\n  const [personQuery, setPersonQuery] = useState(\"\");\r\n  const user = useSelector(selectUser);\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    getPosts();\r\n  }, []);\r\n\r\n  const takeSnap = () => {\r\n    dispatch(resetCameraImage());\r\n    history.push(\"/capture\");\r\n  };\r\n\r\n  const getPosts = () => {\r\n    db.collection(\"posts\")\r\n      .orderBy(\"timestamp\", \"desc\")\r\n      .onSnapshot((snapshot) =>\r\n        setPosts(\r\n          snapshot.docs.map((doc) => ({\r\n            id: doc.id,\r\n            data: doc.data(),\r\n          }))\r\n        )\r\n      );\r\n    setPersonQuery(\"\");\r\n  };\r\n\r\n  const getPersonQuery = (e) => {\r\n    e.preventDefault();\r\n\r\n    const nameCapitalized =\r\n      personQuery.charAt(0).toUpperCase() + personQuery.slice(1);\r\n\r\n    if (personQuery !== \"\") {\r\n      const fireSQL = new FireSQL(firebase.firestore());\r\n      const persons = fireSQL.rxQuery(\r\n        `\r\n  SELECT *\r\n  FROM posts\r\n  WHERE username LIKE '${personQuery}%' or username LIKE '${nameCapitalized}%'\r\n  ORDER BY username, timestamp DESC\r\n`,\r\n        { includeId: \"id\" }\r\n      );\r\n\r\n      persons.subscribe((results) => {\r\n        if (results.size !== 0) {\r\n          setPosts(\r\n            results.map((doc) => ({\r\n              id: doc.id,\r\n              data: {\r\n                username: doc.username,\r\n                imageUrl: doc.imageUrl,\r\n                profilePic: doc.profilePic,\r\n                read: doc.read,\r\n                timestamp: doc.timestamp,\r\n              },\r\n            }))\r\n          );\r\n        }\r\n      });\r\n    }\r\n    setUserNotFound(\"block\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"chats\">\r\n      <div className=\"chats__header\">\r\n        <Avatar\r\n          src={user.profilePic}\r\n          onClick={() => {\r\n            auth.signOut();\r\n          }}\r\n          className=\"chats__avatar\"\r\n        />\r\n        <div className=\"chats__search\">\r\n          <SearchIcon onClick={getPosts} className=\"chats__searchIcon\" />\r\n          <form onSubmit={getPersonQuery}>\r\n            <input\r\n              placeholder=\"Utilisateur à rechercher\"\r\n              onChange={(e) => setPersonQuery(e.target.value)}\r\n              value={personQuery}\r\n              type=\"text\"\r\n            />\r\n          </form>\r\n        </div>\r\n        <ChatBubbleIcon className=\"chats__chatIcon\" />\r\n      </div>\r\n\r\n      <div className=\"chats__posts\">\r\n        {posts.length > 0 ? (\r\n          posts.map(\r\n            ({\r\n              id,\r\n              data: { profilePic, username, timestamp, imageUrl, read },\r\n            }) => (\r\n              <Chat\r\n                key={id}\r\n                profilePic={profilePic}\r\n                username={username}\r\n                timestamp={timestamp}\r\n                imageUrl={imageUrl}\r\n                read={read}\r\n                id={id}\r\n              />\r\n            )\r\n          )\r\n        ) : (\r\n          <h4 style={{ display: `${userNotFound}` }}>\r\n            l'utilisateur entré n'existe pas\r\n          </h4>\r\n        )}\r\n      </div>\r\n      <CameraAltIcon\r\n        className=\"chats__takePicIcon\"\r\n        onClick={takeSnap}\r\n        fontSize=\"large\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chats;\r\n","import React, { useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./ChatView.css\";\r\nimport { selectSelectedImage } from \"./features/appSlice\";\r\nimport { CountdownCircleTimer } from \"react-countdown-circle-timer\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\n\r\nfunction ChatView() {\r\n  const selectedImage = useSelector(selectSelectedImage);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (!selectedImage) {\r\n      exit();\r\n    }\r\n  }, [selectedImage]);\r\n\r\n  const exit = () => {\r\n    history.replace(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"chatView\">\r\n      <img src={selectedImage} alt=\"\" />\r\n      <ArrowBackIcon\r\n        fontSize=\"large\"\r\n        className=\"chatView__back\"\r\n        onClick={exit}\r\n      />\r\n      <div className=\"chatView__timer\">\r\n        <CountdownCircleTimer\r\n          isPlaying\r\n          duration={10}\r\n          strokeWidth={6}\r\n          size={50}\r\n          colors={[\r\n            [\"#004777\", 0.33],\r\n            [\"#F7B801\", 0.33],\r\n            [\"#A30000\", 0.33],\r\n          ]}\r\n        >\r\n          {({ remainingTime }) => {\r\n            if (remainingTime === 0) {\r\n              exit();\r\n            }\r\n            return remainingTime;\r\n          }}\r\n        </CountdownCircleTimer>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatView;\r\n","import { Button } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport \"./Login.css\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { auth, provider } from \"./firebase\";\r\nimport { login } from \"./features/appSlice\";\r\n\r\nfunction Login() {\r\n  const dispatch = useDispatch();\r\n\r\n  const signIn = () => {\r\n    auth\r\n      .signInWithPopup(provider)\r\n      .then((result) => {\r\n        dispatch(\r\n          login({\r\n            username: result.user.displayName,\r\n            profilePic: result.user.photoURL,\r\n            id: result.user.uid,\r\n          })\r\n        );\r\n      })\r\n      .catch((error) => alert(error.message));\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"login__container\">\r\n        <img src=\"https://scx2.b-cdn.net/gfx/news/2017/1-snapchat.jpg\" alt=\"\" />\r\n        <Button variant=\"outlined\" onClick={signIn}>\r\n          Se connecter\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useEffect } from \"react\";\r\nimport \"./App.css\";\r\nimport WebcamCapture from \"./WebcamCapture\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Preview from \"./Preview\";\r\nimport Chats from \"./Chats\";\r\nimport ChatView from \"./ChatView\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { logout, login, selectUser } from \"./features/appSlice\";\r\nimport Login from \"./Login\";\r\nimport { auth } from \"./firebase\";\r\n\r\nfunction App() {\r\n  const user = useSelector(selectUser);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    auth.onAuthStateChanged((authUser) => {\r\n      if (authUser) {\r\n        dispatch(\r\n          login({\r\n            username: authUser.displayName,\r\n            profilePic: authUser.photoURL,\r\n            id: authUser.uid,\r\n          })\r\n        );\r\n      } else {\r\n        dispatch(logout());\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Router>\r\n        {!user ? (\r\n          <Login />\r\n        ) : (\r\n          <>\r\n            <img\r\n              src=\"https://lakeridgenewsonline.com/wp-content/uploads/2020/04/snapchat.jpg\"\r\n              alt=\"\"\r\n              className=\"app__logo\"\r\n            />\r\n            <div className=\"app__body\">\r\n              <div className=\"app__bodyBackground\">\r\n                <Switch>\r\n                  <Route exact path=\"/preview\">\r\n                    <Preview />\r\n                  </Route>\r\n                  <Route exact path=\"/chats/view\">\r\n                    <ChatView />\r\n                  </Route>\r\n                  <Route exact path=\"/\">\r\n                    <Chats />\r\n                  </Route>\r\n                  <Route exact path=\"/capture\">\r\n                    <WebcamCapture />\r\n                  </Route>\r\n                </Switch>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport appReducer from \"../features/appSlice\";\r\nimport cameraReducer from \"../features/cameraSlice\";\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    app: appReducer,\r\n    camera: cameraReducer,\r\n  },\r\n});\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './app/store';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"]}}